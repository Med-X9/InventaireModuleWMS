# ============================================
# Configuration Django
# ============================================
# Environnement (True pour production, False pour développement/test)
IS_PRODUCTION=False

# Clé secrète Django (GÉNÉRER UNE CLÉ UNIQUE ET ALÉATOIRE)
# Utiliser: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# ⚠️ IMPORTANT : ne pas utiliser de caractère '$' dans cette clé avec docker-compose (sinon il est interprété comme variable d'environnement)
DJANGO_SECRET_KEY=quii)e#rma_&%c38-uzrplk#n=95u641_c1gjejzofti3cc4nr

# Mode debug (False en production)
DJANGO_DEBUG=False

# Hosts autorisés (séparés par des virgules, utiliser le nom du domaine ou l'IP du serveur)
# Exemple: localhost,127.0.0.1,votre-domaine.com,www.votre-domaine.com
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

DJANGO_SETTINGS_MODULE=project.settings

# ============================================
# Sécurité SSL/TLS
# ============================================
# Redirection HTTPS (True en production)
SECURE_SSL_REDIRECT=False

# Cookies sécurisés (True en production)
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# HSTS (HTTP Strict Transport Security)
# Durée en secondes (31536000 = 1 an pour production, 0 pour dev/test)
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False

# Origines CSRF autorisées (séparées par des virgules)
# Utiliser le même domaine/IP que ALLOWED_HOSTS
# Exemple: http://localhost,http://votre-domaine.com,https://votre-domaine.com
CSRF_TRUSTED_ORIGINS=http://localhost

# Si derrière un reverse proxy (nginx), décommenter:
# SECURE_PROXY_SSL_HEADER=('HTTP_X_FORWARDED_PROTO', 'https')

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================
# Autoriser toutes les origines (False en production)
CORS_ALLOW_ALL_ORIGINS=True

# Origines autorisées (séparées par des virgules)
# Pour le frontend sur le même serveur mais autre container, utiliser:
# - Le nom du service Docker (ex: http://frontend:3000)
# - L'adresse IP du serveur (ex: http://SERVER_IP:3000)
# - Le domaine si configuré (ex: https://votre-domaine.com)
# Exemple: http://frontend:3000,http://localhost:3000
CORS_ALLOWED_ORIGINS=

# Autoriser les credentials (cookies, headers d'authentification)
CORS_ALLOW_CREDENTIALS=True

# ============================================
# Base de données PostgreSQL
# ============================================
# Base de données PostgreSQL utilisée sur le serveur (installée physiquement sur le VPS)
POSTGRES_DB=inventairedb
POSTGRES_USER=postgres
POSTGRES_PASSWORD=Smatch2025
# Pour Docker sur Linux, utiliser host.docker.internal (mappé via extra_hosts dans docker-compose.yml)
# Alternative: utiliser l'IP du bridge Docker (172.17.0.1) si PostgreSQL écoute sur toutes les interfaces
POSTGRES_HOST=172.17.0.1
POSTGRES_PORT=5432
DATABASE_URL=postgres://postgres:smatch2025@172.17.0.1:5432/inventairedb


# URL de connexion (optionnel, généré automatiquement si non fourni)
# DATABASE_URL=postgres://postgres:PASSWORD@postgres:5432/inventairedb

# ============================================
# Fichiers Statiques et Media
# ============================================
DJANGO_STATIC_ROOT=/app/staticfiles
DJANGO_MEDIA_ROOT=/app/media
DJANGO_STATIC_URL=/static/
DJANGO_MEDIA_URL=/media/
DJANGO_STATICFILES_DIRS=/app/static

# ============================================
# Configuration Email
# ============================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# ============================================
# Logging
# ============================================
DJANGO_LOG_LEVEL=INFO

# ============================================
# Docker
# ============================================
# Tag de l'image Docker (dev-latest pour test, prod-latest pour production)
IMAGE_TAG=dev-latest